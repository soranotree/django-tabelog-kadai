# Nagoyameshiシステム概要説明書  


## 1. はじめに

### 1.1 システムの概要
本システムには以下の3つのユーザー種別が存在します。

- ユーザー会員：店舗の顧客  
    レストランの顧客で、本システムにてレストランの予約やレビューの投稿を行うことができます。

- 店舗オーナー：店舗の保有者  
    「システム管理者」とは別個の存在で、一つのアカウントで複数の店舗を登録することが可能です。  
    店舗ごとに、メニューおよびテーブルに関する情報を登録し、それらを予約可能な時間枠（以下予約枠）と紐づけてユーザー会員に提示することで、きめ細かな予約管理を行うことができます。

- システム管理者：システム全体の管理者  
    システム全体の管理者として、ユーザーおよび店舗の情報を管理します。

## 2. ユーザー管理

### 2.1 ユーザー登録
1. トップページの「会員登録」をクリックします。
2. 必要な情報（ユーザー種別、ユーザー名、メールアドレス、パスワード）を入力し、「登録」をクリックします。
3. メール認証に成功するとユーザーとして登録されます。
4. プルダウンメニュー「会員情報」により、会員情報を更新できます。

### 2.2 ログイン
- トップページの「ログイン」をクリックし、メールアドレスとパスワードを入力してログインします。
- 「パスワードを忘れた場合はこちら」より、メール認証によるパスワードの再設定が可能です。

### 2.3 サブスク登録
#### 2.3.1 登録手続き
- ユーザー会員および店舗オーナーは「有料プラン登録」によりサブスクの申込みができます。
- 外部サイトにてクレジットカード情報を入力し、決済を行います。
- 登録料は、ユーザー会員は月額300円、店舗オーナーは月額10,000円です。
- サブスク登録後、プルダウンメニュー「お支払方法」にてクレジットカード情報の登録が可能です（注：決済サイトとは連携していません）

#### 2.3.2 解約手続き
- サブスク会員は、プルダウンメニュー「有料プラン解約」によりサブスクを解約できます。
- 画面下部の「解約する」を押下すると、サブスクが解約されます。

### 2.4 会員情報の更新
- プルダウンメニュー「会員情報」にて会員情報を参照することができます。
- 「編集する」より「会員情報を編集」ページに遷移し、会員情報を更新することができます。
- パスワードを変更する際は


## 3. 非会員でも使える機能

### 3.1 トップ画面機能
- キーワードによる店舗の検索
- 評価が高い店舗の閲覧
- カテゴリーによる店舗の検索
- 新規掲載店の閲覧

### 3.2 店舗一覧
- キーワードによる店舗の検索
- カテゴリーによる店舗の検索
- 予算による店舗の検索
- 掲載日、価格、評価、予約数による並べ替え

### 3.3 店舗詳細
- 店舗詳細情報の閲覧
- レビューの閲覧

## 4. ユーザー会員用機能
サブスク登録（月額300円）をすることで以下の機能が使えるようになります。

### 4.1 予約機能
#### 4.1.1 レストランの予約
1. 予約したいレストランの「予約」タブを選択します。
2. 予約日時と人数を指定し、「空きを検索する」を押します。
3. 「空き検索の結果」欄のStep 1に予約可能な席が表示されるので選択します。
4. Step 2に提供可能なメニューが表示されるので、チェックのうえ「上記の内容で予約する」ボタンを押します。
5. 予約一覧画面にリダイレクトされます。

#### 4.1.2 予約の確認とキャンセル
1. ページ上部またはプルダウンメニュー内の「予約一覧」をクリックすると、予約一覧が表示されます。
2. 将来の予約は「取消」リンクによりキャンセルすることができます。
3. 予約の変更をする場合は、一度キャンセルしてから再度予約を作成してください。

### 4.2 レビューの投稿
1. レストラン詳細の「レビュー」ボタンを押します。
2. 「レビューを投稿する」ボタンを押してレビューの内容をドラフトし、「投稿」ボタンを押して投稿します。
3. 自分が投稿したレビューには「編集」「削除」ボタンが表示され、編集および削除ができます。

### 4.3 お気に入りの登録
1. レストラン詳細の「トップ」タブを開き、下部の「お気に入り追加」」ボタンを押すとお気に入りに登録できます。
2. お気に入り登録したレストランは、プルダウンメニュー「お気に入り一覧」に表示されます。
3. 「お気に入り一覧」で「解除」リンクを押すことで、登録を解除することができます。

## 5. 店舗オーナー用機能
サブスク登録（月額10,000円）をすることで以下の機能が使えるようになります。  
いずれの機能も「保有店舗一覧画面」からアクセスすることができます。

### 5.1 保有レストランの登録・管理
1. 「新店舗の登録」にて必要情報を入力することで、店舗を新たに追加することができます。
2. 店舗概要列の「編集」「削除」にて、店舗情報の更新や店舗の削除をすることができます。

### 5.2 予約の管理
#### 5.2.1 予約の確認
- 予約管理列の「●件」のリンクをクリックすると、予約状況を一覧表で確認できます。  
    （参考：●の数字は、将来の予約件数を表しています）

- デフォルトでは将来分の予約がリスト表示されます。
- 「開始日」と「終了日」を指定して「適用する」ことで、期間を指定してリスト表示させることができます。
- 「終了日」を指定しないことで、将来の予約の全件を表示させることが可能です。
- 「ソート順」窓で「予約日時」「人数」「メニュー」「テーブル」によるソートの指定が可能です。

#### 5.2.2 予約枠の管理
- 予約管理列の「予約枠の状況」ボタンをクリックすると、テーブルごとの予約状況を週間カレンダー形式で確認できます。
- 「日付選択」と「テーブル選択」でチェックしたい日付とテーブルを選択し「選択」を押すと、当該テーブルの週間スケジュールが表示されます。
- 各スロット（セル）の色表示は以下の通りです。

    赤：このセルを起点とし、表示されている時間分のスロットが予約済みです（例：90分なら合計3スロット）  
    ピンク：赤セルを起点として予約が継続し、予約済みです  
    緑：予約枠は設定されているものの、予約が入っていない状態です  
    灰：予約枠が設定されていません  

- 赤およびピンクセルをクリックすると「予約の確認」画面（5.2.1）に遷移します。
- 予約枠の取り扱いに関しては、「5.2.4 予約枠の取り扱い」をご確認ください。

#### 5.2.3 予約枠の作成
- 予約管理列の「予約枠の作成」ボタンをクリックすると、ユーザー会員に提供する予約枠を作成する画面に遷移します。
- 「適用開始日」と「適用終了日」で予約枠を作成する期間を、さらにページ下部の「適用する席の選択」で対象となる席（テーブル）を、それぞれ指定します。
- 各時刻のセルに、そのタイミングで入店したお客さまの滞在可能時間を設定します（単位：分）。

#### 5.2.4 予約枠の取り扱い
- 店舗の開店時間や受付終了時間、および定休日を考慮して予約枠を作成してください。
- 例えば、10時に開店する場合は、9時および9時半のスロット（セル）には「0」を入力してください。滞在可能時間が０分のテーブルは予約可能な席として提示されることはなく、誤って予約されることはありません。同じく閉店時間も考慮して最終の受付時間を設定してください。
- 定休日も同様です。例えば毎週火曜日が定休日の場合、火曜日の枠を作成しない、或いは、火曜日も含む一定期間をまとめて作成した後、各火曜日の滞在可能時間を全て0（ゼロ）で上書きすることで、定休日に予約枠が提示されることはなくなります。
- 予約枠に設定された滞在時間は、空き状態である場合に限り上書きすることができます。一方、予約枠の削除はできませんので、予約枠を取り消したい場合は滞在時間を「0」で上書きしてください。
- ユーザー会員には、あるスロットが空き枠（緑セル）であっても、滞在可能時間内の別のセルに既に予約が入っている場合、予約可能な枠として表示されませんのでご安心ください。

    例：滞在可能時間が90分、14:00から既に予約で埋まっている場合 ⇒ 12:30開始の予約はできるが、13:00開始や13:30開始の予約枠は空き枠であっても選択肢として表示されない

### 5.3 メニュー管理
- メニュー列の「●品」のリンクをクリックすると、メニューを一覧表で確認できます。
- 「新規作成」「編集」「削除」により各メニューを管理してください。
- 全メニューの「値段」のうち最低価格と最高価格が、店舗詳細の「価格帯」に反映されます。また店舗一覧の「予算から探す」や価格によるソートにも反映されます。
- 「写真」はユーザー会員が予約する際に表示されるので、訴求情報としてご活用ください。
- 「受付開始時刻」「受付終了時刻」に応じて、ユーザー会員が予約する際の選択可能なメニューが表示されます。

### 5.3 テーブル管理
- テーブル列の「●卓」のリンクをクリックすると、テーブルを一覧表で確認できます。
- 「新規作成」「編集」「削除」により各テーブルを管理してください。
- 全テーブルの「最大人数」の合計が、店舗詳細の「座席数」に反映されます。

### 5.4 レビュー管理
- レビュー列の「未返信●件」又は「掲載中●件」のリンクをクリックすると、レビューを一覧表で確認できます。
- 「返信を編集」により、店舗からの返信を編集できます。
- 誹謗中傷レビューについては「非表示にする」を押下することでサイトにて非表示にできます。非表示にしたレビューは、当該店舗のレビュー評価対象外となります（レビュー件数、５段階評価、星評価）。
- 再度表示された状態にする際は「表示にする」を押下してください。


## 6. システム管理者用機能

### 6.1 店舗管理
- 店舗の登録や編集・削除を行うことができます。
- キーワード検索、店舗IDおよび所有者IDによるソートが可能です。

### 6.2 会員管理
- 会員情報の編集・削除を行うことができます。
- キーワード検索、メールアドレス、アカウント種別、およびサブスク状況によるソートが可能です。

### 6.3 レビュー管理
- 「返信を編集」により、店舗からの返信を編集できます。
- 誹謗中傷レビューについては「非表示にする」を押下することでサイトにて非表示にできます。非表示にしたレビューは、当該店舗のレビュー評価対象外となります（レビュー件数、５段階評価、星評価）。
- 再度表示された状態にする際は「表示にする」を押下してください。
- キーワード検索、レビューID、投稿者ID、店舗IDおよび表示フラグによるソートが可能です。

### 6.4 カテゴリー管理
- 「新規作成」「編集」「削除」により各カテゴリーを管理してください。


作成：2024年12月25日  
更新：2024年12月26日

以上