# Nagoyameshiシステム概要説明書

## 1. はじめに

### 1.1 システムの概要
本システムには以下の３種類のユーザー種別が存在します。

- ユーザー会員：店舗の顧客
- 店舗オーナー：店舗の保有者
- システム管理者：システム全体の管理者

「ユーザー会員」はレストランの顧客で、本システムにてレストランの予約やレビューの投稿を行うことができます。

「店舗オーナー」は「システム管理者」とは別個の存在で、一つのアカウントで複数の店舗を登録・管理することが可能です。店舗ごとにメニューおよびテーブルに関する情報を登録し、それらを予約可能な時間枠（以下予約枠）と紐づけて顧客に提示することで、きめ細かな予約管理業務を実現します。

「システム管理者」はシステム全体の管理者として、ユーザーおよび店舗の情報管理等を行います。

## 2. ユーザー登録とログイン

### 2.1 ユーザー登録
1. システムのトップページから「会員登録」ボタンをクリックします。
2. 必要な情報（ユーザー種別、ユーザー名、メールアドレス、パスワード）を入力し、「登録」をクリックします。
3. メール認証に成功するとユーザーとして登録されます。

### 2.2 ログイン
1. トップページの「ログイン」ボタンをクリックします。
2. メールアドレスとパスワードを入力し、ログインします。

## 3. 誰でも使える機能

### 3.1 トップ画面機能
- キーワード検索
- 評価が高い店の閲覧
- カテゴリーによる検索
- 評価が高い店の閲覧

### 3.2 店舗一覧
- キーワード検索
- カテゴリーによる絞り込み
- 予算による絞り込み
- 掲載日、価格、評価、予約数による並べ替え

### 3.2 店舗詳細
- 店舗詳細情報の閲覧
- レビューの閲覧

## 4. ユーザー会員用機能
サブスク登録（月額300円）をすることで以下の機能が使えるようになります。

### 4.1 予約機能
#### 4.1.1 予約の作成
1. 予約したいレストランの「予約」タブを選択します。
2. 予約日時と人数を指定し、「空きを検索する」ボタンを押します。
3. 「空き検索の結果」画面で予約可能な席が表示されるので選択します。
4. 提供可能なメニューが表示されるので、チェックのうえ「上記の内容で予約する」ボタンを押します。

#### 4.1.2 予約の確認とキャンセル
1. 予約内容が履歴表示されます。
2. 将来の予約は「取消」ボタンによりキャンセルすることができます。
3. 予約の変更をする場合は、一度キャンセルしてから再度予約を作成してください。

### 4.2 レビュー機能
1. レビュー投稿したいレストランの「レビュー」ボタンを押します。
2. 「レビューを投稿する」ボタンでレビュー内容を作成し「投稿」ボタンを押して投稿します。
3. 投稿したレビューには「編集」「削除」ボタンが表示され、編集や削除ができます。

### 4.3 お気に入り機能
1. レストラン詳細の「トップ」タブのを開き、下部の「お気に入り追加」」ボタンを押すことでお気に入りに登録できます。
2. お気に入り登録したレストランは、ナビゲーションメニュー「お気に入り一覧」に表示されます。
3. 「お気に入り一覧」で「解除」を押すことで、お気に入り登録を解除することができます。

### 4.4 サブスク
1. レビュー投稿したいレストランの「レビュー」ボタンを押します。
2. 「レビューを投稿する」ボタンでレビュー内容を作成し「投稿」ボタンを押して投稿します。

## 5. 店舗オーナー会員用機能
サブスク登録（月額10,000円）をすることで以下の機能が使えるようになります。
いずれの機能も「保有店舗一覧画面」からアクセスすることができます。

### 5.1 保有レストランの登録・管理
1. 「新店舗の登録」にて必要情報を入力することで、店舗を新たに追加登録することができます。
2. 店舗概要列の「編集」「削除」にて、店舗情報の更新や店舗の削除をすることができます。

### 5.2 予約の管理
#### 5.2.1 予約の確認
- 予約管理列の「●件」のリンクをクリックすると、予約状況を一覧表で確認できます。
- デフォルトでは将来分の予約がリスト表示されます。
- 「開始日」と「終了日」を指定して「適用する」ことで、期間を指定してリスト表示させることができます。「終了日」を指定しないことで、将来の予約の全件を表示させることが可能です。
- リスト表示させたのち、「ソート順」窓で「予約日時」「人数」「メニュー」「テーブル」によるソートが可能です。

#### 5.2.2 予約枠の管理
- 予約管理列の「予約枠の状況」ボタンをクリックすると、テーブルごとの予約状況を週間カレンダー形式で確認できます。
- 「日付選択」と「テーブル選択」で選択し「選択」ボタンを押すことで、選択した日付を含む週のスケジュールが表示されます。
- 各スロット（セル）の色表示は以下の通りです。

  赤：この時刻移行、表示されている時間分の予約がされています（例：90分なら合計3スロット）

  ピンク：赤で表示された予約が継続し、引き続き席が埋まっています（⇒5.2.1 予約の管理にリンク）

  緑：予約枠は設定されたものの、予約が入っていない状態です

  灰：予約枠が設定されていません
- 予約枠の詳細は「5.2.3 予約枠の取り扱い」をご確認ください。

#### 5.2.3 予約枠の作成
- 予約管理列の「予約枠の作成」ボタンをクリックすると、ユーザー会員に公開する予約枠を作成する画面に遷移します。
- 「適用開始日」と「適用終了日」で指定した期間、ページ下部の「適用する席の選択」で指定した席（テーブル）の予約枠をまとめて作成できます。
- 30分ごとの各時刻にて、その時刻で入店したお客さまの滞在可能時間を設定します（単位：分）。

#### 5.2.4 予約枠の取り扱い
- 開店時間や受付終了時間は、店舗オーナーが適切に設定してください。例えば、10時に開店する場合は、9時および9時半のスロット（セル）には「0」を入力してください。これにより、ユーザーに予約可能な枠として表示されません。
- 定休日も同様で、店舗オーナーが適切に予約枠を設定してください。例えば毎週火曜日が定休日の場合、火曜日の枠を作成しない、或いは、一定期間をまとめて作成した後、各定休日の滞在可能時間を全て0（ゼロ）で上書きすることで、お客様には予約可能枠として表示されません。
- 既に予約枠が設定されているスロットに対して「予約枠を作成する」を行った場合、当該スロットが空きスロットであれば滞在可能時間が上書きされます。
- ユーザー会員には、あるスロットが空き枠（緑セル）であっても、滞在可能時間内に既に予約が入っている場合は、予約可能枠として表示されませんのでご安心ください。

  例：滞在可能時間が90分、14:00から既に予約で埋まっている場合 ⇒ 12:30開始の予約はできるが、13:00開始や13:30開始の予約枠は表示されない

### 5.3 メニュー管理
- メニュー列の「●品」のリンクをクリックすると、メニューを一覧表で確認できます。
- 「新規作成」「編集」「削除」により各メニューを管理してください。
- 「値段」の最低価格と最高価格が店舗詳細の「価格帯」に反映されます。また店舗一覧の「予算から探す」や価格によるソートにも反映されます。
- 写真は予約時に表示されるので、ユーザー会員への訴求情報としてご活用ください。
- 提供可能時間に応じて、ユーザー会員が予約する際の選択可能なメニューが表示されます。

### 5.3 テーブル管理
- テーブル列の「●卓」のリンクをクリックすると、テーブルを一覧表で確認できます。
- 「新規作成」「編集」「削除」により各テーブルを管理してください。
- 「最大人数」の合計が店舗詳細の「座席数」に反映されます。

### 5.4 レビュー管理
- レビュー列の「未返信●件」又は「掲載中●件」のリンクをクリックすると、レビューを一覧表で確認できます。
- 「返信を編集」により店舗からの返信を記載・管理できます。
- 誹謗中傷レビューについては「非表示にする」を押下することでサイトにて非表示にできます。非表示にしたレビューは、レビュー評価対象外となります（レビュー件数、５段階評価、星評価）。
- 再度表示にする際は「表示にする」を押下してください。


## 6. システム管理者用機能

### 6.1 店舗管理
- 店舗の登録や編集・削除を行うことができます。
- キーワード検索、店舗IDおよび所有者IDによるソートが可能です。

### 6.2 会員管理
- 会員情報の編集・削除を行うことができます。
- キーワード検索、メールアドレス、アカウント種別、およびサブスク状況によるソートが可能です。

### 6.3 レビュー管理
- 「返信を編集」により店舗からの返信を記載・管理できます。
- 誹謗中傷レビューについては「非表示にする」を押下することでサイトにて非表示にできます。非表示にしたレビューは、レビュー評価対象外となります（レビュー件数、５段階評価、星評価）。
- 再度表示にする際は「表示にする」を押下してください。
- キーワード検索、レビューID、投稿者ID、店舗IDおよび表示フラグによるソートが可能です。

### 6.4 カテゴリー管理
- 「新規作成」「編集」「削除」により各カテゴリーを管理してください。


## 7 サブスク登録
### 7.1 登録手続き
- ユーザー会員および店舗オーナー会員は「有料プラン登録」によりサブスクの申込みができます。
- 外部サイトにてクレジットカード情報を入力し、決済を行います。

### 7.2 解約手続き
- サブスク会員は「解約」によりサブスクの解約手続きができます。
- 確認画面にて「解約する」を押下することでサブスクの解約ができます。

作成日：2024年12月25日

以上